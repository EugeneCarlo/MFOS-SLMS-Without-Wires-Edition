### Весь синтезатор состоит из 7 основных условных блоков и 3 дополнительных:

## Основные:
* Звуковой генератор A (VCO A)
* Звуковой генератор B (VCO B)
* Генератор огибающей (Envelope Gen)
* Генератор низкой частоты (LFO)
* Фильтр управляемый напряжением (VCF)
* Усилитель управляемый напряжением (VCA)
* Блок питания (Power Supply)

## Дополнительные:
* Дилей (Delay PT2399)
* Предусилитель для гитары с гейт выходом (Guitar PreAmp /w GATE)
* Драм триггер (Drum Trigger)

Обязательно добавлю блок схему в читаемом виде как только дойдут руки.


### Питание:
Как и большинство синтезаторов он требует двухполярное питание.<br>
В оригинальной схеме нам предлагают использовать две батарейки для его получения, а так же ОУ LF444 с маленьким потребление.<br>
Для удобства и удешевления я использовал микросхему-инвертор питания ICL7660S как и в прошлом проекте.<br>
Обращаю внимание, что для корректной работы необходима микросхема с маркировкой S в конце.
![Power](../Schematic/Power%20Supply.png)

### Генератор огибающей:
Генератор работает в трех режимах:
* GATE
* TRIG
* CYCLE

Для переключения режимов используются два тумблера:<br>
**MODE** (AR_mode на схеме) — Выбирает режим работы GATE/TRIG<br>
**CYCLE** (AR_REPEAT на схеме) — Включает цикличный режим и работает только в режиме TRIG<p>

Для начала стоит разобрааться, как работает микрофсхема CD40106.<br>
В двух словах: это 6 логических инверторов, то есть:<br>
+ Подаем условный 0 на вход и получаем 1 на выходе<br>
+ Подаем условную 1 на вход и получаем 0 на выходе<p>


![Envelope](../Schematic/Envelope%20Gen.png)

#### GATE
Если кнопка GATE (S4 на схеме) нажата, на 2 контакте (IC1.5) микрофсхемы CD40106 появляется напряжение и через диод D3 и потенциометр ATTACK,  конденсатор C3 начинает заряжаться до +8в<br>
В зависимости от значения ручки ATTACK меняется скорость заряда. <p>
После отпускания кнопки GATE на 2 контакте (IC1.5) пропадает напряжение и конденсатор C3 начинает разряжаться через потенциометр RELEASE и диод D4 <br>
В зависимости от значения ручки RELEASE меняется скорость разряда.<p>

#### TRIG
При коротком нажатии на кнопку GATE в этом режиме, он разряжает конденсатор C1 (примерно до 1.6в) через резистор R2, благодаря чему на 2 контакте (IC1.5) появляется напряжение.<br>
Положительный импульс проходит через C2 и D2 устанавливая режим D-триггера состоящего из двух блоков CD40106 (IC1.7/IC1.3), на 12 контакте (IC1.3) появляется напряжение и конденсатор C3 начинает заряжаться через диод D3 и потенциометр ATTACK примерно до 6.5в, как только он доходит до этого значения, на 4 выходе (IC1.1) напряжение пропадает и соответственно появляется на 6 контакте (IC1.6), через диод D5 подается напряжение на 13 (IC1.3) контакт и переключает режим D-триггера.<br>
Поскольку теперь на 12 выводе нет напряжение, конденсатор C2 разряжается через потенциометр RELEASE и диод D4<p>

#### CYCLE
Когда на выходе TL072 напряжение ниже -6в, на 8 контакте  (IC1.2) появляется напряжение и снова устанавливает режим D-триггера, что приводит к повторному началу цикла и повторению в дальнейшем.<br>

***
TL072 является повторителем напряжения и используется для стабильной работы схемы, на ее выходе установлен потенциометр AR_LVL, отвечающий за максимальный уровень выхода генератора огибающей.<br>
***
Триггеры Шмидта (CD40106) используются как инверторы и обладают гистерезисом, поэтому:<br>
Напряжение на выходе появляется при понижении на входе ниже 1/3 от напряжения питания.<br>
После чего напряжение на входе должно быть выше 2/3 от напряжения питания, чтоб выход снова стал низким.<br>
***
Стабилитрон на входе гнезда GATE является защитным от сигналов выше 9в.<p>
***


### Генератор шума и LFO:
Схема этих блоков выполнена на одной микросхеме, так что как и автор я не буду разделять их на два блока для удобства.<br>
*Здесь была шутка про транзисторы которые заходят в бар, но я ее вырезал*<br>

Это генератор низкой частоты, ранее он был опубликован под названием [Super Simple Ramp and Sawtooth LFO.](http://musicfromouterspace.com/analogsynth_new/OLDIESBUTGOODIES/LFO/lfo-2.html)<br>
Из изменений оригинальной схемы, здесь пявилась треугольная форма волны, что было предложено неким Гарри Бисселлом.<br>


![LFO&NOISE](../Schematic/LFO%20&%20Noise.png)


U3.2 - это интегратор, на вход которого поступает выход с U3.1
U3.1 - это компаратор с большим гистерезисом.

Когда переключатель (RAMP|TRI|SAW) подключен в положение RAMP и выход компаратора U3.1 низкий (-12в), ток течет от R14 к выходу U3.1.
Выходной 


Когда переключатель S1 установлен в положение Ramp и выход IC1-B низкий (-12 В), ток течет от R4 к выходу IC1-B. Выходной сигнал IC1-A нарастает, так что соответствующий ток течет через конденсатор (ы) в его пути обратной связи по направлению к инвертирующему входу. Это связано с тем, что основная задача операционного усилителя (подключенного таким образом) - поддерживать на инвертирующем и неинвертирующем входах одинаковый уровень напряжения (в данном случае заземление, поскольку вывод 3 IC1-A находится на земле). Как только выходное напряжение IC1-A поднимается достаточно высоко, чтобы на выводе 5 IC1-B появилось немного более высокое напряжение, чем на выводе 6, на выходе IC1-B устанавливается высокий уровень. Тонна тока (на самом деле всего несколько миллиампер) проходит через D1 и R1 на контакт 2 IC1-A, и его выход быстро падает (~ 50 мкс), что приводит к тому, что выход IC1-B снова становится низким, и цикл повторяется. Pot R5 контролирует, какая часть напряжения с выхода IC1-B доступна для источника или стока тока с инвертирующего входа IC1-B. Чем больше емкость в цепи обратной связи IC1-A, тем медленнее должен нарастать выходной сигнал, чтобы обеспечить постоянный ток в направлении (или от него) к инвертирующему входу. Когда S1 находится в положении пилообразного зуба, схема функционирует, как описано ранее, за исключением того, что скачок тока происходит, когда IC1-B становится низким, а не высоким (как объяснялось ранее). Таким образом, выход IC1-A будет быстро повышаться, но не торопится.




Два 2N3904 заходят в бар. Один очень шумит и его выкидывают, другой сидит и тихонько пьет свой стаут. Изюминка ... одни транзисторы шумнее других. Так как же нам избавиться от шума ЛЮБОГО 2N3904? С этой схемой. Обратите внимание, что мы делаем обычное ... обратное смещение базового перехода эмиттера с низким V (ebo), слушаем переход через C10 и коэффициент усиления около 1000. Если этот транзистор шепчет, он все еще шепчет с большим усилением. Эта схема не заботится о том, находится ли этот транзистор в состоянии, когда вы собираетесь получить как минимум 100 мВ шума от первого каскада. Мы берем все, что получаем от первого LF444, и питаем оба входа второго LF444 через два резистора 1М. Мы вешаем конденсатор на инвертирующий вход и вуаля инвертирующий вход всегда отстает от неинвертирующего. Поскольку шумовое напряжение не торопится, пытаясь повышаться и понижаться (из-за ограничения) на инвертирующем входе, оно скачкообразно повышается и понижается на неинвертирующем входе. Это приводит к тому, что напряжение на неинвертирующем входе случайным образом оказывается выше или ниже напряжения на инвертирующем входе, поскольку напряжение шума случайным образом изменяется. Поскольку операционный усилитель подключен как полнофункциональный компаратор, его выходной сигнал колеблется вверх и вниз между пределами напряжения LF444 во время шумовых колебаний. Варьируя колпачок и варьируя вход, на который вы вешаете колпачок, вы изменяете характеристики шума на выходе второго каскада.



